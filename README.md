# One-Time Secrets Service

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º.

## üìå –û –ø—Ä–æ–µ–∫—Ç–µ

–°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è:
- –°–æ–∑–¥–∞–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ (TTL)
- –ü–æ–ª—É—á–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–∞ **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑**
- –£–¥–∞–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤ –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è TTL
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.9+**
- **FastAPI** (–≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫)
- **PostgreSQL** (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö)
- **Redis** (–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤)
- **Docker** (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è)
- **Fernet** (—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker 20.10+
- Docker Compose 2.0+

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/yourusername/one-time-secrets.git
   cd one-time-secrets
   –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞:
   cp .env.example .env
 –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env, —É–∫–∞–∑–∞–≤ —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:
 docker-compose up -d --build
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–¥–∏–Ω —Ä–∞–∑):
 docker-compose exec app python -c "from main import init_db; import asyncio; asyncio.run(init_db())"

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
http://localhost:8000

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
### –î–æ—Å—Ç—É–ø–Ω–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

Swagger UI: /docs
ReDoc: /redoc

## üåê –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
### –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞
 curl -X POST "http://localhost:8000/secret" \
 -H "Content-Type: application/json" \
 -d '{"secret": "–º–æ–π —Å—É–ø–µ—Ä —Å–µ–∫—Ä–µ—Ç", "ttl_seconds": 3600}'
–û—Ç–≤–µ—Ç:
 {"secret_key": "—É–Ω–∏–∫–∞–ª—å–Ω—ã–π_–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä"}

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞
curl "http://localhost:8000/secret/—É–Ω–∏–∫–∞–ª—å–Ω—ã–π_–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä"
–û—Ç–≤–µ—Ç (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ):
{"secret": "–º–æ–π —Å—É–ø–µ—Ä —Å–µ–∫—Ä–µ—Ç"}

### –£–¥–∞–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞
 curl -X DELETE "http://localhost:8000/secret/—É–Ω–∏–∫–∞–ª—å–Ω—ã–π_–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä" \
 -H "Content-Type: application/json" \
 -d '{"passphrase": "–ø–∞—Ä–æ–ª—å_–µ—Å–ª–∏_–Ω—É–∂–µ–Ω"}'
–û—Ç–≤–µ—Ç:
 {"status": "secret_deleted"}

## üõ† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º
 docker-compose up -d	–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
 docker-compose down	–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
 docker-compose logs -f	–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
 docker-compose down -v	–ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–≤–∫–ª—é—á–∞—è –¥–∞–Ω–Ω—ã–µ)
## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
 docker-compose ps

ü§ù –ö–∞–∫ –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥
–§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
–°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–µ–π —Ñ–∏—á–∏ (git checkout -b feature/AmazingFeature)
–°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π (git commit -m 'Add some AmazingFeature')
–ó–∞–ø—É—à—å—Ç–µ –≤ –≤–µ—Ç–∫—É (git push origin feature/AmazingFeature)
–û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

üìú –õ–∏—Ü–µ–Ω–∑–∏—è
–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª LICENSE.
